@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@using Webphone.Models;
@using Webphone.Ultilities;
@model IList<Blog>
@{
    List<Blog_Comment> blog_Comments = ViewBag.blog_Comments;
}

    
<!-- Blog Section Begin -->
<section class="from-blog spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="section-title from-blog__title">
                    <h2>From The Blog</h2>
                </div>
            </div>
        </div>
        <div class="row">
            @foreach (var item in Model)
            {
                var blogId = item.Blog_Id;
                var commentCount = blog_Comments.Where(i => i.Blog_Id == blogId);
                string url = Functions.TitleSlugGeneration("blog", item.Title, item.Blog_Id);
                <div class="col-lg-4 col-md-4 col-sm-6">
                    <div class="blog__item">
                        <div class="blog__item__pic">
                            <img href="/@url" src="@item.Images" alt="">
                        </div>
                        <div class="blog__item__text">
                            <ul>
                                <li><i class="fa fa-calendar-o"></i> @item.CreateDate </li>
                                <li><i class="fa fa-comment-o"></i> @commentCount.Count() </li>
                            </ul>
                            <h5 href="/@url" style="display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;overflow: hidden"><a href="/@url">@item.Title</a></h5>
                            <p style="display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;overflow: hidden">
                                @item.Contents
                            </p>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</section>
<!-- Blog Section End -->
